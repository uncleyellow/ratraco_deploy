"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[660],{8660:(L,r,t)=>{t.r(r),t.d(r,{ExampleModule:()=>d});var a=t(4006),c=t(1390),p=t(9567),m=t(6028),o=t(4650),h=t(529),g=t(6895);function f(l,e){if(1&l&&(o.TgZ(0,"p",6),o._uU(1),o.qZA()),2&l){const n=o.oxw();o.xp6(1),o.hij(" ",n.errorMessage," ")}}function x(l,e){if(1&l&&(o.TgZ(0,"a",7),o._uU(1,"T\u1ea3i file MP3"),o.qZA()),2&l){const n=o.oxw();o.Q6J("href",n.downloadLink,o.LSH)}}class i{constructor(e){this.http=e,this.soundcloudUrl="",this.isLoading=!1,this.errorMessage=null,this.downloadLink=null}fetchDownloadLink(){if(!this.soundcloudUrl.trim())return void(this.errorMessage="Vui l\xf2ng nh\u1eadp link SoundCloud!");this.isLoading=!0,this.errorMessage=null,this.downloadLink=null;const e=`https://ratracobeexcel-production.up.railway.app/download/soundcloud?url=${encodeURIComponent(this.soundcloudUrl)}`;this.http.get(e,{responseType:"blob"}).subscribe({next:n=>{const u=window.URL.createObjectURL(n);this.downloadLink=u;const s=document.createElement("a");s.href=u,s.download="soundcloud.mp3",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(u)},error:n=>{this.errorMessage="L\u1ed7i t\u1ea3i nh\u1ea1c! Vui l\xf2ng th\u1eed l\u1ea1i."},complete:()=>{this.isLoading=!1}})}}i.\u0275fac=function(e){return new(e||i)(o.Y36(h.eN))},i.\u0275cmp=o.Xpm({type:i,selectors:[["example"]],decls:8,vars:5,consts:[[1,"flex","flex-col","items-center","p-6","bg-gray-100","rounded-lg","shadow-md","max-w-md","mx-auto"],[1,"text-xl","font-semibold","text-gray-800"],["type","text","placeholder","Nh\u1eadp link SoundCloud...",1,"w-full","p-2","mt-4","border","rounded-lg","shadow-sm","focus:outline-none","focus:ring","focus:ring-indigo-400",3,"ngModel","ngModelChange"],[1,"w-full","mt-4","bg-indigo-500","text-white","py-2","px-4","rounded-lg","hover:bg-indigo-600","transition",3,"disabled","click"],["class","mt-2 text-red-500 text-sm",4,"ngIf"],["download","soundcloud.mp3","class","mt-4 text-blue-500 underline",3,"href",4,"ngIf"],[1,"mt-2","text-red-500","text-sm"],["download","soundcloud.mp3",1,"mt-4","text-blue-500","underline",3,"href"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"T\u1ea3i Nh\u1ea1c SoundCloud"),o.qZA(),o.TgZ(3,"input",2),o.NdJ("ngModelChange",function(s){return n.soundcloudUrl=s}),o.qZA(),o.TgZ(4,"button",3),o.NdJ("click",function(){return n.fetchDownloadLink()}),o._uU(5),o.qZA(),o.YNc(6,f,2,1,"p",4),o.YNc(7,x,2,1,"a",5),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngModel",n.soundcloudUrl),o.xp6(1),o.Q6J("disabled",n.isLoading),o.xp6(1),o.hij(" ",n.isLoading?"\u0110ang t\u1ea3i...":"T\u1ea3i Nh\u1ea1c"," "),o.xp6(1),o.Q6J("ngIf",n.errorMessage),o.xp6(1),o.Q6J("ngIf",n.downloadLink))},dependencies:[g.O5,a.Fj,a.JJ,a.On],encapsulation:2});var w=t(4466),C=t(7494);const E=[{path:"",component:i}];class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({imports:[c.Bz.forChild(E),w.m,C.Yi,m.q,a.UX,p.o]})}}]);