"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{411:(b,_,a)=>{a.d(_,{N:()=>t});const t={production:!0,api:{url:"http://localhost:3000"}}},7494:(b,_,a)=>{a.d(_,{Yi:()=>x});var t=a(4650),v=a(5963),d=a(6895);const m=["fileSelector"];function D(r,s){if(1&r&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.dropZoneLabel)}}function u(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"input",9),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openFileSelector(i))}),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(1),t.s9C("value",e.browseBtnLabel),t.Q6J("className",e.browseBtnClassName)}}function g(r,s){if(1&r&&(t.YNc(0,D,2,1,"div",6),t.YNc(1,u,2,2,"div",7)),2&r){const e=t.oxw();t.Q6J("ngIf",e.dropZoneLabel),t.xp6(1),t.Q6J("ngIf",e.showBrowseBtn)}}function f(r,s){}const c=function(r){return{openFileSelector:r}};class l{constructor(s,e){this.relativePath=s,this.fileEntry=e}}let p=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngx-file-drop-content-tmp",""]]}),r})(),F=(()=>{class r{constructor(e,n){this.zone=e,this.renderer=n,this.accept="*",this.directory=!1,this.multiple=!0,this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.useDragEnter=!1,this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new t.vpe,this.onFileOver=new t.vpe,this.onFileLeave=new t.vpe,this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.openFileSelector=i=>{this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click()},this.globalDragStartListener=this.renderer.listen("document","dragstart",i=>{this.globalDraggingInProgress=!0}),this.globalDragEndListener=this.renderer.listen("document","dragend",i=>{this.globalDraggingInProgress=!1})}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&"false"!=`${e}`}ngOnDestroy(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null}onDragOver(e){this.useDragEnter?(this.preventAndStop(e),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")):!this.isDropzoneDisabled()&&!this.useDragEnter&&e.dataTransfer&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e),e.dataTransfer.dropEffect="copy")}onDragEnter(e){!this.isDropzoneDisabled()&&this.useDragEnter&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e))}onDragLeave(e){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(e)),this.preventAndStop(e))}dropFiles(e){if(!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,e.dataTransfer)){let n;n=e.dataTransfer.items?e.dataTransfer.items:e.dataTransfer.files,this.preventAndStop(e),this.checkFiles(n)}}uploadFiles(e){!this.isDropzoneDisabled()&&e.target&&(this.checkFiles(e.target.files||[]),this.resetFileInput())}getFakeDropEntry(e){const n={name:e.name,isDirectory:!1,isFile:!0,file:i=>i(e)};return new l(n.name,n)}checkFile(e){if(e){if("webkitGetAsEntry"in e){let n=e.webkitGetAsEntry();if(n){if(n.isFile){const i=new l(n.name,n);this.addToQueue(i)}else n.isDirectory&&this.traverseFileTree(n,n.name);return}}this.addToQueue(this.getFakeDropEntry(e))}}checkFiles(e){for(let n=0;n<e.length;n++)this.checkFile(e[n]);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=(0,v.H)(200,200).subscribe(()=>{if(this.files.length>0&&0===this.numOfActiveReadEntries){const n=this.files;this.files=[],this.onFileDrop.emit(n)}})}traverseFileTree(e,n){if(e.isFile){const i=new l(n,e);this.files.push(i)}else{n+="/";const i=e.createReader();let o=[];const E=()=>{this.numOfActiveReadEntries++,i.readEntries(C=>{if(C.length)o=o.concat(C),E();else if(0===o.length){const h=new l(n,e);this.zone.run(()=>{this.addToQueue(h)})}else for(let h=0;h<o.length;h++)this.zone.run(()=>{this.traverseFileTree(o[h],n+o[h].name)});this.numOfActiveReadEntries--})};E()}}resetFileInput(){if(this.fileSelector&&this.fileSelector.nativeElement){const e=this.fileSelector.nativeElement,n=e.parentElement,i=this.getHelperFormElement(),o=this.getFileInputPlaceholderElement();n!==i&&(this.renderer.insertBefore(n,o,e),this.renderer.appendChild(i,e),i.reset(),this.renderer.insertBefore(n,e,o),this.renderer.removeChild(n,o))}}getHelperFormElement(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl}getFileInputPlaceholderElement(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl}isDropzoneDisabled(){return this.globalDraggingInProgress||this.disabled}addToQueue(e){this.files.push(e)}preventAndStop(e){e.stopPropagation(),e.preventDefault()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.R0b),t.Y36(t.Qsj))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ngx-file-drop"]],contentQueries:function(e,n,i){if(1&e&&t.Suo(i,p,5,t.Rgc),2&e){let o;t.iGM(o=t.CRH())&&(n.contentTemplate=o.first)}},viewQuery:function(e,n){if(1&e&&t.Gf(m,7),2&e){let i;t.iGM(i=t.CRH())&&(n.fileSelector=i.first)}},inputs:{accept:"accept",directory:"directory",multiple:"multiple",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",useDragEnter:"useDragEnter",contentClassName:"contentClassName",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel",disabled:"disabled"},outputs:{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},decls:7,vars:15,consts:[[3,"className","drop","dragover","dragenter","dragleave"],[3,"className"],["type","file",1,"ngx-file-drop__file-input",3,"accept","multiple","change"],["fileSelector",""],["defaultContentTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngx-file-drop__drop-zone-label",4,"ngIf"],[4,"ngIf"],[1,"ngx-file-drop__drop-zone-label"],["type","button",3,"className","value","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("drop",function(o){return n.dropFiles(o)})("dragover",function(o){return n.onDragOver(o)})("dragenter",function(o){return n.onDragEnter(o)})("dragleave",function(o){return n.onDragLeave(o)}),t.TgZ(1,"div",1)(2,"input",2,3),t.NdJ("change",function(o){return n.uploadFiles(o)}),t.qZA(),t.YNc(4,g,2,2,"ng-template",null,4,t.W1O),t.YNc(6,f,0,0,"ng-template",5),t.qZA()()),2&e){const i=t.MAs(5);t.ekj("ngx-file-drop__drop-zone--over",n.isDraggingOverDropZone),t.Q6J("className",n.dropZoneClassName),t.xp6(1),t.Q6J("className",n.contentClassName),t.xp6(1),t.Q6J("accept",n.accept)("multiple",n.multiple),t.uIk("directory",n.directory||void 0)("webkitdirectory",n.directory||void 0)("mozdirectory",n.directory||void 0)("msdirectory",n.directory||void 0)("odirectory",n.directory||void 0),t.xp6(4),t.Q6J("ngTemplateOutlet",n.contentTemplate||i)("ngTemplateOutletContext",t.VKq(13,c,n.openFileSelector))}},dependencies:[d.O5,d.tP],styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:#93939380}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"]}),r})(),x=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r,bootstrap:[F]}),r.\u0275inj=t.cJS({providers:[],imports:[d.ez]}),r})()},5861:(b,_,a)=>{function t(d,m,D,u,g,f,c){try{var l=d[f](c),p=l.value}catch(F){return void D(F)}l.done?m(p):Promise.resolve(p).then(u,g)}function v(d){return function(){var m=this,D=arguments;return new Promise(function(u,g){var f=d.apply(m,D);function c(p){t(f,u,g,c,l,"next",p)}function l(p){t(f,u,g,c,l,"throw",p)}c(void 0)})}}a.d(_,{Z:()=>v})}}]);